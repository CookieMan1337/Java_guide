---
layout: page
title: "Spring. Введение"
permalink: /spring/intro
---

## Введение

Spring Boot — это один из самых популярных инструментов для разработки современных приложений на Java. Его главная цель — сделать жизнь разработчика проще: убрать рутину, избавить от бесконечной настройки и позволить сосредоточиться на бизнес-логике. Если вы уже знакомы с Java Core и умеете запускать небольшие программы, то Spring Boot станет следующим шагом в вашем пути: он позволит создавать веб-сервисы, REST-API и даже полноценные распределённые системы с минимальными усилиями.

Spring Boot вырос из большого фреймворка **Spring Framework**, который появился ещё в начале 2000-х. Сам по себе Spring — это мощный фундамент для построения приложений, но его использование требовало много конфигурации: XML-файлы, десятки зависимостей, ручное подключение компонентов. Именно для того, чтобы снять эти барьеры, и был создан Spring Boot. Теперь можно буквально за пару минут получить готовое к работе приложение.

В этой теме мы разберём, чем Spring Boot отличается от «чистого» Spring, какие инструменты нужны для старта, как устроен проект, что такое авто-конфигурация и стартеры. К концу главы у вас будет не только понимание, но и рабочее приложение, которое можно будет запустить и попробовать.

---

## Что такое Spring Boot и его главная идея

Spring Boot — это надстройка над Spring Framework, которая автоматизирует конфигурацию и предоставляет удобные инструменты для быстрой разработки. Если Spring — это конструктор с тысячами деталей, то Spring Boot — это готовый набор сборок, где всё уже подобрано и собрано.

Главная идея Spring Boot: **"convention over configuration"** (соглашения вместо конфигурации). Это значит, что по умолчанию всё работает "из коробки", а если что-то нужно изменить — достаточно добавить пару настроек. Такой подход экономит время и снижает порог входа для новичков.

Например, если вы хотите создать REST-сервис, в чистом Spring пришлось бы настраивать сервлет-контейнер, диспетчер, JSON-сериализацию. В Spring Boot достаточно добавить зависимость `spring-boot-starter-web` и написать один контроллер.

---

## Авто-конфигурация

Одна из ключевых особенностей Spring Boot — это **авто-конфигурация**. Она позволяет фреймворку автоматически определять, какие компоненты нужны приложению. Например, если в classpath есть драйвер PostgreSQL, Spring Boot сам подключит пул соединений и настроит `DataSource`.

Как это работает: при запуске приложение сканирует зависимости и активирует соответствующие конфигурации. Это избавляет вас от необходимости вручную подключать десятки бинов. При этом любую авто-конфигурацию можно переопределить или отключить.

Пример:

```java
@SpringBootApplication
public class DemoApplication {
    public static void main(String[] args) {
        SpringApplication.run(DemoApplication.class, args);
    }
}
```

В этом коде за кулисами активируется множество авто-конфигураций: встроенный сервер Tomcat, система логирования, поддержка REST.

---

## Spring Boot Starters

Spring Boot ввёл понятие **стартеров** (starters). Это специальные зависимости, которые включают в себя всё необходимое для определённой задачи.

Примеры:

* `spring-boot-starter-web` — веб-приложения (Tomcat, Spring MVC, Jackson).
* `spring-boot-starter-data-jpa` — работа с базами данных через Hibernate.
* `spring-boot-starter-security` — аутентификация и авторизация.

Без стартеров вам пришлось бы добавлять каждую библиотеку вручную. Со стартером достаточно подключить одну зависимость.

Gradle (Groovy):

```groovy
dependencies {
    implementation 'org.springframework.boot:spring-boot-starter-web'
}
```

Gradle (Kotlin):

```kotlin
dependencies {
    implementation("org.springframework.boot:spring-boot-starter-web")
}
```

---

## Spring Initializr

Чтобы не создавать проект вручную, существует сервис **Spring Initializr** ([https://start.spring.io/](https://start.spring.io/)). Это генератор проектов, где вы выбираете язык (Java/Kotlin), систему сборки (Maven/Gradle), версию Spring Boot и нужные стартеры. В итоге скачиваете готовый проект, который можно сразу открыть в IDE.

Initializr экономит время, особенно для новичков. Он также гарантирует, что вы получите правильные версии зависимостей и совместимую конфигурацию.

---

## Инструменты для старта

Для работы со Spring Boot нужны:

1. **JDK 17+** — официально поддерживаемая версия (с долгосрочной поддержкой).
2. **IDE** — IntelliJ IDEA (рекомендуется), Eclipse или VS Code.
3. **Система сборки** — Gradle или Maven (Gradle чаще быстрее и гибче).
4. **Git** — для контроля версий.
5. **Docker** (опционально) — для запуска баз данных и сервисов.

---

## Стандартная структура проекта

Spring Boot придерживается стандартной структуры:

```
src/
 ├─ main/
 │   ├─ java/com/example/demo/   (код приложения)
 │   └─ resources/               (application.yml, статические файлы)
 └─ test/                        (тесты)
```

Главный класс приложения обычно лежит в корне пакета `com.example.demo` и содержит аннотацию `@SpringBootApplication`.

---

## Аннотация @SpringBootApplication

Эта аннотация объединяет сразу три других:

* `@Configuration` — помечает класс как конфигурацию Spring.
* `@EnableAutoConfiguration` — включает авто-конфигурацию.
* `@ComponentScan` — сканирует пакеты на наличие компонентов (`@Service`, `@Repository`, `@RestController`).

То есть одной аннотацией вы активируете всю инфраструктуру.

---

## Запуск приложения

Приложение можно запустить несколькими способами:

1. Через IDE — кнопкой **Run** в классе `DemoApplication`.
2. Через Gradle:

   ```bash
   ./gradlew bootRun
   ```
3. С помощью jar:

   ```bash
   ./gradlew build
   java -jar build/libs/demo-0.0.1-SNAPSHOT.jar
   ```

Разница между `bootRun` и `java -jar` в том, что `bootRun` удобен на этапе разработки (горячая перезагрузка классов), а jar используется для деплоя.

---

## Настройки и порты

Все настройки Spring Boot хранятся в `application.properties` или `application.yml`. Например, чтобы сменить порт:

```yaml
server:
  port: 8081
```

Это не требует изменения кода — только конфигурации.

---

## Встроенные серверы

Spring Boot поддерживает несколько встроенных серверов:

* **Tomcat** (по умолчанию).
* **Jetty**.
* **Undertow**.

Tomcat — универсален и подходит для большинства случаев. Jetty и Undertow используют, когда важна производительность или особенности протоколов.

---

## Потенциальные ошибки новичков

1. **Смешение зависимостей** — добавили одновременно `spring-boot-starter-web` и `spring-boot-starter-webflux`, получили конфликт.
2. **Неправильный JDK** — выбрали JDK 8, но проект требует JDK 17.
3. **Избыточные настройки** — вручную переопределяют то, что Spring Boot уже делает.
4. **Несоответствие версий Gradle/Maven и Spring Boot** — лучше использовать wrapper.

---

## Переопределение и отключение авто-конфигураций

Иногда автоматическая конфигурация мешает. Например, Spring Boot по умолчанию поднимет H2 Database, если нет других источников данных. Чтобы отключить:

```java
@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class})
```

Также любой бин можно переопределить, если создать свой с таким же именем.

---

## Итог

Spring Boot — это стандарт де-факто для разработки приложений на Java. Он убирает рутину, позволяет сосредоточиться на логике и помогает стартовать за минуты.

Мы познакомились с ключевыми понятиями: авто-конфигурация, стартеры, Initializr, структура проекта и запуск. Эти знания — фундамент для дальнейших тем.

Важно помнить: Spring Boot не магия. Всё, что он делает, можно было бы настроить вручную в чистом Spring. Но за счёт автоматизации и удобных соглашений разработка становится быстрее и приятнее.
